# Status Report Template

Use this template for Phase 5 synthesis reports.

## Template

```markdown
# ntm-orchestrator Session Report

**Session:** {{session_name}}
**Duration:** {{start_time}} – {{end_time}} ({{duration_minutes}} minutes)
**Mode:** {{mode}} (beads/freeform/plan)

## Summary

| Metric | Value |
|--------|-------|
| Total agents | {{total_agents}} |
| Tasks assigned | {{tasks_assigned}} |
| Tasks completed | {{tasks_completed}} |
| Tasks failed | {{tasks_failed}} |
| Quality gates | {{gates_summary}} |
| Interventions | {{intervention_count}} |
| Escalations | {{escalation_count}} |
| Context refreshes | {{refresh_count}} |

## Task Results

| # | Task ID | Agent | Status | Gates | Commits | Summary |
|---|---------|-------|--------|-------|---------|---------|
{{#each tasks}}
| {{@index}} | {{task_id}} | {{agent}} | {{status}} | {{gates}} | {{commits}} | {{summary}} |
{{/each}}

## Quality Gate Summary

{{#if all_gates_passed}}
✅ All tasks passed quality gates.
{{else}}
⚠️ Some tasks required gate remediation:

{{#each gate_issues}}
- **{{task_id}}**: {{issue}}
{{/each}}
{{/if}}

## Interventions Log

{{#if interventions}}
| Time | Type | Details | Resolution |
|------|------|---------|------------|
{{#each interventions}}
| {{time}} | {{type}} | {{details}} | {{resolution}} |
{{/each}}
{{else}}
No interventions required.
{{/if}}

## Escalations

{{#if escalations}}
{{#each escalations}}
### {{type}} ({{time}})

**Situation:** {{situation}}

**Options presented:**
{{#each options}}
- {{letter}}) {{description}}
{{/each}}

**User decision:** {{decision}}

**Outcome:** {{outcome}}
{{/each}}
{{else}}
No escalations required.
{{/if}}

## Failed Tasks

{{#if failed_tasks}}
{{#each failed_tasks}}
### {{task_id}}

**Agent:** {{agent}}
**Failure type:** {{failure_type}}
**Error:** {{error}}

**Last output:**
```
{{last_output}}
```

**Suggested next steps:**
{{suggested_action}}
{{/each}}
{{else}}
No failed tasks.
{{/if}}

## Remaining Work

{{#if remaining_beads}}
Open beads:
{{#each remaining_beads}}
- `{{id}}`: {{title}} ({{status}})
{{/each}}
{{else}}
No remaining work from this session.
{{/if}}

## Git State

**Branch:** {{branch}}
**Commits this session:** {{commit_count}}

{{#if unpushed}}
⚠️ Unpushed commits:
```
{{unpushed_log}}
```
{{else}}
All commits pushed.
{{/if}}

## Output Files

Full output captured to:
- `{{output_file_full}}`
- `{{output_file_code}}`

## Session Configuration

```yaml
Agent mix: {{agent_mix}}
Timeout: {{timeout_minutes}} minutes
Quality gates: {{quality_gates}}
NTM mode: {{ntm_mode}}
```

---

*Report generated by ntm-orchestrator v2.1.0*
```

## Usage Notes

### Filling the Template

The orchestrator fills this template using:
1. State tracking block data
2. Agent Mail completion messages
3. `--robot-status` final state
4. `git log --oneline --since="<start>"`
5. Escalation/intervention logs from monitoring phase

### Presenting to User

After generating, present key sections:
1. Summary table (always show)
2. Failed tasks (if any)
3. Escalations (if any)
4. Remaining work (if any)

Ask:
- "Are these results satisfactory?"
- "Should we retry any failed tasks?"
- "Any follow-up beads to create?"

### Don't Load Full Output

The output files exist for manual inspection. Don't read them into context — they're large and the summaries from Agent Mail are sufficient.
